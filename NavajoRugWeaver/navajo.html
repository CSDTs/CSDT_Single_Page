<!DOCTYPE html>
<html>

<head>
	<title>Navajo Rug Weaver</title>
	<!-- Font Awesome CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Open+Sans&display=swap" rel="stylesheet">

	<!-- Main CSS -->
	<link rel="stylesheet" href="main.css">
</head>

<body onresize="updateCanavs()">
	<nav class="navbar navbar-expand-lg navbar-dark">
		<div class='container-fluid'>
			<!-- CSDT and NSF logos -->
			<div class="navbar-brand">
				<a href="http://www.nsf.gov">
					<img src="img/nsf.gif" width="40" height="40" class="d-inline-block align-top logo-img" alt="">
				</a>
				<a href="/">
					<img src="img/logo.svg" width="100" height="40" class="d-inline-block align-top logo-img" alt="">
				</a>
			</div>

			<!-- Toggle Button for Mobile Navigation -->
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- Navigation Link Container -->
			<div class="collapse navbar-collapse " id="navbarNav">

				<!-- Desktop Navigation -->
				<ul class="navbar-nav d-none d-sm-none d-lg-flex ml-auto">
					<li class="nav-item">
						<a class="nav-link" " href="/projects">PROJECTS </a> </li> <li class="nav-item">
							<a class="nav-link" href="/teams/teams">CLASSROOMS</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/news">NEWS</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/publications">PUBLICATIONS</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/about">ABOUT</a>
					</li>
					<li class="nav-item bar"></li>



					<li class="nav-item" style='display:flex; justify-content:space-between'>
						<a class="nav-link" href="#!" id="login-logout"> <i class="fas fa-user"></i>&nbsp; LOGIN</a>
					</li>


					<li class="nav-item">
						<a class="nav-link" id="logout" class="" hidden><b>(LOGOUT)</b></a>
					</li>

				</ul>

			</div>

		</div>

	</nav>
	<div class="container">

		<div class="row mb-3 mt-5">
			<div id="canvas-container" class="col-6">
				<div class="row ">
					<button id="clear-local" type="button" class="btn btn-link btn-sm mx-2">Clear</button>

					<!-- <label id="load-local" style="margin:0" class="btn btn-link btn-sm mx-2">
						Import
						<input type="file" hidden>
					</label>

					<button id="save-local" type="button" class="btn btn-link btn-sm mx-2">Export</button> -->

					<button type="button" class="btn btn-link btn-sm mx-2 undo">Undo</button>
					<button id="redo" type="button" class="btn btn-link btn-sm mx-2">Redo</button>


					<!-- <button id="cloud-saving" type="button" class="btn btn-link btn-sm mx-2" disabled>Cloud</button> -->
					<div id="save-options" class="dropdown mx-2">
						<button class="btn btn-link dropdown-toggle btn-sm" type="button" id="dropdownMenuButton"
							data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Save
						</button>
						<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							<a id="cloud-saving" class="dropdown-item" data-toggle="modal"
								data-target="#cloudSaving">Save to Cloud</a>
							<a id="save-local" class="dropdown-item">Export to File</a>
						</div>
					</div>

					<div id="load-options" class="dropdown mx-2">
						<button class="btn btn-link dropdown-toggle btn-sm" type="button" id="dropdownMenuButton"
							data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Load
						</button>
						<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							<a id="cloud-loading" class="dropdown-item" data-toggle="modal"
								data-target="#cloudLoading">Load from Cloud</a>
							<label id="load-local" style="margin:0" class="dropdown-item">
								Import from File
								<input type="file" hidden>
							</label>
						</div>
					</div>

					<div class="dropdown mx-2 ml-auto">
						<button class="btn btn-link dropdown-toggle btn-sm" type="button" id="dropdownMenuButton"
							data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							More Options
						</button>
						<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							<!-- <a id="addAtCurrentPoint" class="dropdown-item">Resize Grid</a> -->
							<a id="hideGrid" class="dropdown-item">Hide Grid</a>
							<a id="print-file" class="dropdown-item">Print</a>
							<a id="showCoordinatesOption" class="dropdown-item"> XY Stay in Corner</a>
							<!-- <a id="showVector" class="dropdown-item">Scale Bead</a> -->
							<!-- <a id="switchToWampum" class="dropdown-item">Use Wampum</a> -->
						</div>
					</div>

				</div>
				<canvas id="myCanvas" style="border:1px solid #000000; width: 100%; height: auto;">
					Sorry, your browser doesn't support the &lt;canvas&gt; element.

				</canvas>



			</div>
			<div id="data-container" class="col-6">

				<div class="row">


					<form id="data-form" class="col-6">

						<!-- Beadloom Stuff------------------------------------------------------------------------------ -->
						<div class="form-group row">
							<label for="bead-style" class="param col-12">Weave Pattern:</label>
							<div class="input-group  input-group-sm col-12">

								<select class="custom-select " id="bead-style" onchange="selectBeadPattern(this.value)">
									<!-- <option >Choose...</option> -->
									<option selected value="point">Point</option>
									<option value="line">Line</option>
									<option value="rectangle">Rectangle</option>
									<option value="triangle">Triangle</option>
									<option value="linear-iteration">Linear Iteration</option>
									<option value="triangle-iteration">Triangle Iteration</option>
								</select>

							</div>
						</div>


						<div class="form-group row" id="init-form">
							<label for="start-x" class="param col-12">Starting Coordinates (x,y):</label>
							<div class="input-group mb-3 input-group-sm col-12">
								<div class="input-group-prepend">
									<span class="input-group-text" id="start-x1-addon">X1 =</span>
								</div>
								<input id="start-x1" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="start-x1"
									aria-describedby="start-x1-addon" style="max-width: 80px;">
								<div class="input-group-prepend">
									<span class="input-group-text" id="start-y1-addon">Y1 =</span>
								</div>
								<input id="start-y1" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="start-y1"
									aria-describedby="start-y1-addon" style="max-width: 80px;">
							</div>
							<div class="input-group mb-3 input-group-sm col-12" id="second-point">
								<div class="input-group-prepend">
									<span class="input-group-text" id="start-x2-addon">X2 =</span>
								</div>
								<input id="start-x2" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="start-x2"
									aria-describedby="start-x2-addon" style="max-width: 80px;">
								<div class="input-group-prepend">
									<span class="input-group-text" id="start-y2-addon">Y2 =</span>
								</div>
								<input id="start-y2" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="start-y2"
									aria-describedby="start-y2-addon" style="max-width: 80px;">
							</div>
							<div class="input-group mb-3 input-group-sm col-12" id="third-point">
								<div class="input-group-prepend">
									<span class="input-group-text" id="start-x3-addon">X3 =</span>
								</div>
								<input id="start-x3" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="start-x3"
									aria-describedby="start-x3-addon" style="max-width: 80px;">
								<div class="input-group-prepend">
									<span class="input-group-text" id="start-y3-addon">Y3 =</span>
								</div>
								<input id="start-y3" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="start-y3"
									aria-describedby="start-y3-addon" style="max-width: 80px;">
							</div>
						</div>

						<div class="form-group row" id="linear-iter-form">

							<label for="row-length" class="param col-12">Start with a line of X beads:</label>
							<div class="input-group mb-3 input-group-sm col-8">
								<div class="input-group-prepend">
									<span class="input-group-text" id="row-length-addon">X Beads</span>
								</div>
								<input id="row-length" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm " placeholder="0" aria-label="row-length"
									aria-describedby="row-length-addon" style="max-width: 80px;">

							</div>
							<label for="x1-iter" class="param col-12">First end of the line is at:</label>
							<div class="input-group mb-3 input-group-sm col-12">
								<div class="input-group-prepend">
									<span class="input-group-text" id="x1-iter-addon">X1 =</span>
								</div>
								<input id="x1-iter" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="x1-iter"
									aria-describedby="x1-iter-addon" style="max-width: 80px;">
								<div class="input-group-prepend">
									<span class="input-group-text" id="y1-iter-addon">Y1 =</span>
								</div>
								<input id="y1-iter" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="y1-iter"
									aria-describedby="y1-iter-addon" style="max-width: 80px;">
							</div>
							<label for="first-num" class="param col-12">Add to each end:</label>
							<div class="input-group mb-3 input-group-sm col-12">
								<div class="input-group-prepend">
									<span class="input-group-text" id="first-num-addon">1st end</span>
								</div>
								<input id="first-num" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="first-num"
									aria-describedby="first-num-addon" style="max-width: 80px;">
								<div class="input-group-prepend">
									<span class="input-group-text" id="second-num-addon">2nd end</span>
								</div>
								<input id="second-num" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="second-num"
									aria-describedby="second-num-addon" style="max-width: 80px;">
							</div>
							<label for="row-length" class="param col-12">For x number of rows in total:</label>
							<div class="input-group mb-3 input-group-sm col-8">
								<div class="input-group-prepend">
									<span class="input-group-text" id="rows-addon">Rows</span>
								</div>
								<input id="rows" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="rows"
									aria-describedby="rows-addon" style="max-width: 80px;">
							</div>
							<label for="row-length" class="param col-12">In the direction of:</label>
							<fieldset class="form-group col-7">


								<div class="row justify-content-center">
									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="pos-y"
												value=+y checked>
											<label class="form-check-label" for="pos-y">
												+y
											</label>
										</div>
									</div>
								</div>
								<div class="row justify-content-between">



									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="neg-x"
												value="-x">
											<label class="form-check-label" for="neg-x">
												-x
											</label>
										</div>
									</div>
									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="pos-x"
												value="+x">
											<label class="form-check-label" for="pos-x">
												+x
											</label>
										</div>
									</div>
								</div>
								<div class="row justify-content-center">
									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="neg-y"
												value="-y" checked>
											<label class="form-check-label" for="neg-y">
												-y
											</label>
										</div>
									</div>

								</div>




							</fieldset>
						</div>

						<div class="form-group row" id="triangle-iter-form">
							<label for="x1-iterT" class="param col-12">Starting at:</label>
							<div class="input-group mb-3 input-group-sm col-12">
								<div class="input-group-prepend">
									<span class="input-group-text" id="x1-iterT-addon">X1 =</span>
								</div>
								<input id="x1-iterT" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="x1-iterT"
									aria-describedby="x1-iterT-addon" style="max-width: 80px;">
								<div class="input-group-prepend">
									<span class="input-group-text" id="y1-iterT-addon">Y1 =</span>
								</div>
								<input id="y1-iterT" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="y1-iterT"
									aria-describedby="y1-iterT-addon" style="max-width: 80px;">
							</div>
							<label for="grouping" class="param col-12">And every X rows: </label>
							<div class="input-group mb-3 input-group-sm col-8">
								<div class="input-group-prepend">
									<span class="input-group-text" id="grouping-addon">Group of: </span>
								</div>
								<input id="grouping" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="groupingr"
									aria-describedby="grouping-addon" style="max-width: 80px;">
							</div>
							<label for="num" class="param col-12">Add to both ends:</label>
							<div class="input-group mb-3 input-group-sm col-12">
								<div class="input-group-prepend">
									<span class="input-group-text" id=num-addon">Each end</span>
								</div>
								<input id="num" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="num"
									aria-describedby="num-addon" style="max-width: 80px;">
							</div>
							<label for="rows-tri" class="param col-12">For x number of rows in total:</label>
							<div class="input-group mb-3 input-group-sm col-8">
								<div class="input-group-prepend">
									<span class="input-group-text" id="rows-tri-addon">Num of rows</span>
								</div>
								<input id="rows-tri" autocomplete="off" value="0" type="number"
									class="form-control form-control-sm" placeholder="0" aria-label="rows-tri"
									aria-describedby="rows-tri-addon" style="max-width: 80px;">
							</div>
							<label for="row-length" class="param col-12">In the direction of:</label>
							<fieldset class="form-group col-7">


								<div class="row justify-content-center">
									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="pos-y2"
												value=+y checked>
											<label class="form-check-label" for="pos-y2">
												+y
											</label>
										</div>
									</div>
								</div>
								<div class="row justify-content-between">

									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="neg-x2"
												value="-x">
											<label class="form-check-label" for="neg-x2">
												-x
											</label>
										</div>
									</div>
									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="pos-x2"
												value="+x">
											<label class="form-check-label" for="pos-x2">
												+x
											</label>
										</div>
									</div>

								</div>

								<div class="row justify-content-center">
									<div class="col-6">
										<div class="form-check">
											<input class="form-check-input" type="radio" name="gridRadios" id="neg-y2"
												value="-y" checked>
											<label class="form-check-label" for="neg-y2">
												-y
											</label>
										</div>
									</div>

								</div>
							</fieldset>
						</div>

						<div class="form-group row">
							<label for="color" class="param col-12">Select Color:&nbsp;</label>
							<div class="input-group mb-3 input-group-sm col-6">

								<input id="color" autocomplete="off" value="#336699" type="color"
									class="form-control form-control-sm " aria-label="x-translation"
									aria-describedby="x-translation-addon" onchange="updateBead(this.value);">

								<input id="color2" autocomplete="off" value="#CA9330" type="color"
									class="form-control form-control-sm" aria-label="color2">
							</div>

						</div>

						<div class="form-group row">
							<div class="input-group mb-3 input-group-sm col-12">



								<button id="creates-bead" type="button" class="btn btn-success col-6 btn-sm"
									onclick="create()">Create</button>

								<button id="reset-bead" type="button"
									class="btn btn-info col-6 btn-sm undo">Undo</button>
							</div>
							<!-- <button id="delete-bead" type="button" class="btn btn-danger col-4 btn-sm">Delete</button> -->
						</div>

					</form>


					<div class="col-6">
						<h3 class="text-center mb-3">Navajo Rug Weaver</h3>
						<img src="./img/rug-1.png" class="img-fluid" id="goal-image" data-toggle="modal"
							data-target="#beadModal">
						<br>
						<p class="figure-caption text-center">Click for more images</p>
						<br>
						<img src="./img/point.png" class="img-fluid" id="pattern-image">
						<br><br>
						<span id="showCoordinates"></span>
					</div>
				</div>
			</div>

		</div>

	</div>


	<!-- bead Gallery -->
	<div class="modal fade" id="beadModal" tabindex="-1" aria-labelledby="beadModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="beadModalLabel">Select an Image</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-4"><img src="./img/rug-1.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
						<div class="col-md-4"><img src="./img/rug-2.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
						<div class="col-md-4"><img src="./img/rug-3.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
						<div class="col-md-4"><img src="./img/rug-4.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
						<div class="col-md-4"><img src="./img/rug-5.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
						<div class="col-md-4"><img src="./img/rug-6.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
						<div class="col-md-4"><img src="./img/rug-7.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
						<div class="col-md-4"><img src="./img/rug-8.png" alt="" class="img-fluid mb-1 mt-1 bead-img">
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- cloud saving -->
	<div class="modal fade" id="cloudSaving" tabindex="-1" aria-labelledby="cloudSavingLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="cloudSavingLabel">Save As...</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">

					<form>
						<!-- <label class="params"><b>Save Project</b></label> -->
						<div class="form-group mt-2">
							<label for="project-name">Project Name</label>
							<input type="text" class="form-control" id="project-name" placeholder="Rug Weave"
								value="Rug Weave">
							<div class="row mt-5">
								<div class="col-6" id='save-cloud-div'>
									<button id="save-cloud" type="button" class="btn btn-primary btn-sm mt-2 btn-block"
										onclick="saveToCloud()">Save
										to
										Cloud</button>
									<button id="save-cloud-login" type="button"
										class="btn btn-primary btn-sm mt-2 btn-block" data-toggle="modal"
										data-target="#loginModal">Login to Save</button>
								</div>
							</div>

						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
				</div>
			</div>
		</div>
	</div>

	<!-- cloud loading -->
	<div class="modal fade" id="cloudLoading" tabindex="-1" aria-labelledby="cloudLoadingLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="cloudLoadingLabel">Load Project</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">

					<form>
						<div class="form-group mt-2" id='cloud-projects-div'>
							<label for="cloud-projects">Load from Cloud</label>
							<select class="form-control" id='cloud-project' onchange="loadFromCloud(this.value)">
								<option selected>Choose...</option>
							</select>
						</div>
					</form>
					<button id="load-cloud-login" type="button" class="btn btn-primary btn-sm mt-2 btn-block"
						data-toggle="modal" data-target="#loginModal">Login to Load</button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Alert -->
	<div class="modal fade" id="appAlert" tabindex="-1" aria-labelledby="appAlertLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="alert alert-light  fade show text-center" role="alert" style="width:100%">
				<strong style="width:100%">Logging you out...</strong>
			</div>
		</div>
	</div>

	<!-- login modal -->
	<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="loginModalLabel">Login</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">

					<form>
						<div class="form-group">
							<label for="userName">Username</label>
							<input type="text" class="form-control" id="userName">
						</div>
						<div class="form-group">
							<label for="userPass">Password</label>
							<div class="input-group" id="show_hide_password">
								<input autocomplete="off" type="password" id="userPass" class="form-control"
									aria-describedby="show_hide_password-addon">
								<div class="input-group-append">
									<span class="input-group-text" id="show_hide_password-addon"><i
											class="fa fa-eye-slash" aria-hidden="true"></i></span>
								</div>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="login()">Login</button>
					<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>


	<link rel="stylesheet" href="main.css">

	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
		integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
		integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
	</script>
	<script src="saveToCloud.js"></script>
	<script src="navajorugweaver.js"></script>
	<script>
		setToRug();
	</script>
</body>

</html>