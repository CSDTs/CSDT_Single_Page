<!DOCTYPE html>

<head>
  <title>Rhythm Wheels Software</title>
  <!-- Font Awesome CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Open+Sans&display=swap" rel="stylesheet">

  <!-- Main CSS -->
  <link rel="stylesheet" href="main.css">

</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class='container-fluid'>
      <!-- CSDT and NSF logos -->
      <div class="navbar-brand">
        <a href="http://www.nsf.gov">
          <img src="img/nsf.gif" width="40" height="40" class="d-inline-block align-top logo-img" alt="">
        </a>
        <a href="/">
          <img src="img/logo.svg" width="100" height="40" class="d-inline-block align-top logo-img" alt="">
        </a>
      </div>

      <!-- Toggle Button for Mobile Navigation -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Navigation Link Container -->
      <div class="collapse navbar-collapse " id="navbarNav">

        <!-- Desktop Navigation -->
        <ul class="navbar-nav d-none d-sm-none d-lg-flex ml-auto">
          <li class="nav-item">
            <a class="nav-link" " href="/projects">PROJECTS </a> </li> <li class="nav-item">
              <a class="nav-link" href="/teams/teams">CLASSROOMS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/news">NEWS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/publications">PUBLICATIONS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/about">ABOUT</a>
          </li>
          <li class="nav-item bar"></li>



          <li class="nav-item" style='display:flex; justify-content:space-between'>
            <a class="nav-link" id="login-logout"> <i class="fas fa-user"></i>&nbsp; LOGIN</a>
          </li>


          <li class="nav-item">
            <a class="nav-link" id="logout-btn" class="" hidden><b>(LOGOUT)</b></a>
          </li>


        </ul>

      </div>

    </div>

  </nav>

  <nav class="navbar navbar-expand-lg navbar-lower">
    <div class='container-fluid'>
      <ul class="navbar-nav d-none d-sm-none d-lg-flex mr-auto"></ul>

      <ul class="navbar-nav d-none d-sm-none d-lg-flex ml-auto">
        <li class="nav-item">
          <a class="nav-link" data-toggle="modal" data-target="#recordModal" style="cursor: pointer;">RECORD AUDIO</a>
        </li>

        <li class="nav-item">
          <div class="dropdown">
            <a class="nav-link dropdown-toggle " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
              style="cursor: pointer;">LOAD</a>

            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

              <a class="dropdown-item" data-toggle="modal" data-target="#cloudLoading" style="color:#171a1d!important;cursor:pointer;font-size:small">Load
                From Cloud</a>
              <a class="dropdown-item" style="color:#171a1d!important;cursor:pointer;font-size:small"><label id="load-local" style="margin:0">Import From File<input type="file" hidden></label></a>

            </div>
          </div>
        </li>

        <li class="nav-item">
          <div class="dropdown">
            <a class="nav-link dropdown-toggle " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
              style="cursor: pointer;">SAVE</a>

            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

              <a class="dropdown-item" data-toggle="modal" data-target="#cloudSaving" style="color:#171a1d!important;cursor:pointer;font-size:small">Save to Cloud</a>
              <a id="save_local" class="dropdown-item" style="color:#171a1d!important;cursor:pointer;font-size:small">Export to File</a>

            </div>
          </div>
        </li>


        <li class="nav-item">
          <a class="nav-link" id="mp3show" style="cursor: pointer;">MP3</a>
        </li>

        <li class="nav-item">
          <a class="loader" id="loadinghide"></a>
        </li>
      </ul>
  </nav>

  <div class="container-fluid">
    <div class="row mt-2">
      <div class="col-4">
        <div class="form-group row mt-1 mb-1">
          <label for="num_wheels" class="col-sm-5 col-form-label">Number of Wheels: </label>
          <div class="col-sm-7 align-self-center">
            <select name="num_wheels" id="num_wheels" class="form-control form-control-sm" style="width: 100%;">
              <option value="1">1</option>
              <option value="2" selected>2</option>
              <option value="3">3</option>
            </select>
          </div>
        </div>

      </div>
      <div class="col-4 text-center mb-0">

      </div>
      <div class="col-4 text-right">
        <div class="form-group row mb-1 mt-1">
          <label for="sound_category" class="col-sm-5 col-form-label">Sound Category: </label>
          <div class="col-sm-7 align-self-center">
            <select name="sound_category" id="sound_category" class="form-control  form-control-sm"
              style="width: 100%;">
              <option value="HipPop">Hip Hop</option>
              <option value="LatinoCarribean">LatinoCarribean</option>
              <option value="Rock">Rock</option>
              <option value="Electro">Electro</option>
              <option value="TypeBeats">Type Beats</option>
            </select>
          </div>

        </div>

      </div>
      <div class="col-12 h-25 mt-2" id="sound_palette"></div>
    </div>
    <div id="rhythm_wheels_container" class="mx-auto mb-4">
      <div id="wheels" class="mx-auto">
        <div id="audioWheelContainer">
        </div>
      </div>
    </div>
    <div class="row justify-content-center">


      <div class="col-2">
        <button type="button" class="btn btn-secondary btn-block" id="play_button">
          <i class="fas fa-play"></i>&nbsp; Play
        </button>
      </div>
      <div class="col-6">
        <div class="form-group mb-2 mt-2">
          <!-- <label for="formControlRange" class="ts-label">SPEED SLIDER</label> -->
          <input type="range" class="form-control-range" min="-0.6" max="0.6" step="0.05" value="0" id="tempo">
          <div class="speedlabels">
            <b>Slow</b>
            <b>Fast</b>
          </div>
        </div>
      </div>
      <div class="col-2">
        <button type="button" class="btn btn-secondary btn-block" id="stop_button">
          <i class="fas fa-stop"></i>&nbsp; Stop
        </button>
      </div>
    </div>

  </div>


  <!-- Audio Recording Modal -->
  <div class="modal fade" id="recordModal" tabindex="-1" role="dialog" aria-labelledby="loadingModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">

        <!-- Header -->
        <div class="modal-header">
          <h5 class="modal-title" id="recordingModalLabel">Record Your Own Audio</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <!-- Body -->
        <div class="modal-body">
          <button class="btn" id=record><img src='images/recording-dot-png.png' id="recordImg"></button>
          <audio id=recordedAudio></audio>


          <div id=countdown></div>
        </div>


        <!-- Footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

        </div>
      </div>
    </div>
  </div>

  <!-- alert -->
  <div class="modal fade" id="projectAlert" tabindex="-1" aria-labelledby="projectAlertLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="alert alert-light  fade show text-center" role="alert" style="width:100%">
        <strong style="width:100%">Loading Project...</strong>
      </div>
    </div>
  </div>

  <!-- login modal -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="loginModalLabel">Login</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" style="color:black">

          <form>
            <div class="form-group">
              <label for="userName">Username</label>
              <input type="text" class="form-control" id="userName">
            </div>
            <div class="form-group">
              <label for="userPass">Password</label>
              <div class="input-group" id="show_hide_password">
                <input autocomplete="off" type="password" id="userPass" class="form-control"
                  aria-describedby="show_hide_password-addon">
                <div class="input-group-append">
                  <span class="input-group-text" id="show_hide_password-addon"><i class="fa fa-eye-slash"
                      aria-hidden="true"></i></span>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button id="login-user" type="button" class="btn btn-primary" data-dismiss="modal">Login</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <!-- cloud loading -->
  <div class="modal fade" id="cloudLoading" tabindex="-1" aria-labelledby="cloudLoadingLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cloudLoadingLabel">Load Project</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" style="color: black;">

          <form>
            <div class="form-group mt-2" id='cloud-projects-div'>
              <label for="cloud-projects">Load from Cloud</label>
              <select class="form-control" id='cloud-project' disabled>
                <option selected>Choose...</option>
              </select>
              <strong id="fetch-projects-label">Still fetching projects, please wait...</strong>
            </div>
          </form>
          <button id="load-cloud-login" type="button" class="btn btn-primary btn-sm mt-2 btn-block" data-toggle="modal"
            data-target="#loginModal">Login to Load</button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- cloud saving -->
  <div class="modal fade" id="cloudSaving" tabindex="-1" aria-labelledby="cloudSavingLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cloudSavingLabel">Save to Cloud</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <form>
            <!-- <label class="params"><b>Save Project</b></label> -->
            <div class="form-group mt-2">
              <label for="project_title" style="color: black;">Project Name</label>
              <input type="text" class="form-control" id="project_title" placeholder="My First Rhythm Wheels Project"
                value="Untitled Rhythm Wheels">
              <div class="row mt-5">
                <div class="col-6" id='save-cloud-div'>
                  <button id="saveCurrentCloudButton" type="button"
                    class="btn btn-primary btn-sm mt-2 btn-block">Save</button>
                  <button id="save-cloud" type="button" class="btn btn-primary btn-sm mt-2 btn-block"
                    style="background-color: white;color:#007bff">Save As...
                  </button>

                  <button id="save-cloud-login" type="button" class="btn btn-primary btn-sm mt-2 btn-block"
                    data-toggle="modal" data-target="#loginModal">Login to Save</button>
                </div>
              </div>

            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <!-- JQuery 3.4.1 -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
  </script>

  <script src="saveToCloud.js"></script>
  <script src="rhythm_wheels_cloud.js"></script>
  <script src="rhythm_wheels_test.js"></script>
  <script src="catalog.js"></script>
  <script src="parser.js"></script>
  <script src="Mp3LameEncoder.js"></script>
  <script src="rhythm_wheels.js"></script>
</body>