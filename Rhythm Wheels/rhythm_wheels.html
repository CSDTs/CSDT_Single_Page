<!DOCTYPE html>

<head>
	<title>Rhythm Wheels Software</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1">

	<!-- Font Awesome CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Open+Sans&display=swap" rel="stylesheet">

	<!-- Main CSS -->
	<link rel="stylesheet" href="./css/updated.css">
	<link rel="stylesheet" href="../cloud/css/main.css">
</head>

<body>

	<!-- Loading overlay that lets the user know that the application is still loading.  -->
	<div class="loading-overlay">
		<div class="loading-container pt-3">
			<div class="loading-dot"></div>
			<div class="loading-dot"></div>
			<div class="loading-dot"></div>
		</div>
	</div>

	<!-- Main navigation bar -->
	<nav class="navbar navbar-expand-lg navbar-dark">
		<div class='container'>
			<!-- CSDT and NSF logos -->
			<div class="navbar-brand">
				<a href="http://www.nsf.gov">
					<img src="../cloud/img/nsf.gif" width="40" class="logo-img" alt="">
				</a>
				<a href="/">
					<img src="../cloud/img/logo.svg" width="100" class="logo-img" alt="">
				</a>
			</div>

			<!-- Toggle Button for Mobile Navigation -->
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navLinkContainer"
				aria-controls="navLinkContainer" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- Navigation Link Container -->
			<div class="collapse navbar-collapse" id="navLinkContainer">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" href="/projects">Projects</a>
					</li>
					<li class="nav-item">
						<a class="nav-link " href="/news">News</a>
					</li>
					<li class="nav-item">
						<a class="nav-link " href="/publications">Publications</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/about">About</a>
					</li>
				</ul>
				<ul class="navbar-nav">
					<li id="navSignUp" class="nav-item">
						<a class="nav-link align-self-center text-white" href="/accounts/signup/">Sign Up &nbsp; </a>
					</li>
					<li id='navUserContainer' class="nav-item dropdown">
						<a class="nav-link" id="navUserStatus" role="button" aria-haspopup="true" aria-expanded="false"
							data-toggle="modal" data-target="#signInPrompt">
							<i class="far fa-user"></i>&nbsp; Login
						</a>
						<div id='navUserDropdown' class="dropdown-menu" aria-labelledby="navUserStatus">
							<a class="dropdown-item" href="#" id='navUserProjects'>My Projects</a>
							<a class="dropdown-item" href="#" id='navUserClassrooms'>My Classrooms</a>
							<div class="dropdown-divider"></div>
							<a class="dropdown-item" href="#" id="navSignOut" data-toggle='modal'
								data-target='#signOutPrompt' hidden>Not you?
								(LOGOUT)</a>
						</div>
					</li>

				</ul>
			</div>
		</div>

	</nav>


	<!-- Application body -->
	<div class="container">
		<div class="row mb-3">
			<div id="data-container" class="col-md-4">

				<!-- Application navigation -->
				<nav>
					<!-- Saving options -->
					<div class="dropdown">
						<button class="btn btn-link btn-sm dropdown-toggle" type="button" id="" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false">
							Save <i class="fas fa-save"></i></a>
						</button>
						<div class="dropdown-menu" aria-labelledby="">
							<a class="dropdown-item" href="">Save</a>
							<a class="dropdown-item" href="">Save as...</a>
							<a class="dropdown-item" href="">Export to file</a>
						</div>
					</div>

					<!-- Loading options -->
					<div class="dropdown">
						<button class="btn btn-link btn-sm dropdown-toggle" type="button" id="" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false">
							Load <i class="fas fa-angle-double-down"></i></a>
						</button>
						<div class="dropdown-menu" aria-labelledby="">
							<a class="dropdown-item" href="">Load</a>
							<a class="dropdown-item" href="">Import from file</a>
						</div>
					</div>
					<button id="" type="button" class="btn btn-link btn-sm">
						Download MP3 <i class="fas fa-download"></i>
					</button>
					<button id="" type="button" class="btn btn-link btn-sm">
						Record Audio <i class="fas fa-compact-disc"></i>
					</button>
				</nav>

				<!-- Sound category selection -->
				<div class="form-group">
					<label for="sound_category" class="col-sm-5 col-form-label"> Sound Category: </label>
					<div class="col-sm-7 align-self-center">
						<select name="sound_category" id="sound_category" class="form-control form-control-sm">
							<option value="HipHop" selected>Hip Hop</option>
							<option value="LatinoCaribbean">LatinoCaribbean</option>
							<option value="Rock">Rock</option>
							<option value="Electro">Electro</option>
							<option value="TypeBeats">Type Beats</option>
						</select>
					</div>
				</div>

				<!-- Sound tile selection -->
				<div class="col-12 mt-2" id="sound_palette"></div>

				<!-- Wheel count selector -->
				<div class="form-group num_wheels_div">
					<label for="num_wheels" class="col-sm-5 col-form-label">Number of Wheels: </label>
					<div class="col-sm-7 align-self-center">
						<select name="num_wheels" id="num_wheels" class="form-control form-control-sm">
							<option value="1">1</option>
							<option value="2" selected>2</option>
							<option value="3">3</option>
						</select>
					</div>
				</div>

				<!--Wheel controls-->

				<div id="wheelControls"></div>

				<!--Control Speed of Wheels-->
				<div class="col-12 align-self-center">
					<div class="form-group">
						<label class="speedHeader">Speed:</label>
						<input type="range" class="form-control-range" min="-0.6" max="0.6" step="0.05" value="0"
							id="tempo">
						<div class="speedlabels">
							<p>Slow</p>
							<p>Fast</p>
						</div>
					</div>
				</div>
			</div>

			<div id="application-container">

				<!-- Houses the wheels -->
				<div id="rhythm_wheels_container" class="mx-auto mb-4">
					<div id="wheels" class="mx-auto">
						<div class="wheel_container d-none" id="audioWheelParent">
							<div id="audioWheelContainer" class="w-100">
								<h4>Recording</h4>
							</div>
						</div>
						<span class="d-none" id="audioWheelSpacer">&nbsp;</span>
					</div>
				</div>

				<!-- Controls the wheels -->
				<div class="container" style="margin-top: 66px;">
					<div class="row justify-content-center">

						<div class="col-6 col-md-2 align-self-center">
							<button type="button" class="btn btn-secondary btn-block" id="play_button">
								<i class="fas fa-play"></i>&nbsp; Play
							</button>
						</div>
						<div class="col-6 col-md-2 align-self-center">
							<button type="button" class="btn btn-secondary btn-block" id="stop_button">
								<i class="fas fa-stop"></i>&nbsp; Stop
							</button>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>





	<!-- Audio Recording Modal -->
	<div class="modal fade" id="recordModal" tabindex="-1" role="dialog" aria-labelledby="loadingModalLabel"
		aria-hidden="true">
		<div class="modal-dialog modal-md modal-dialog-centered" role="document">
			<div class="modal-content">

				<!-- Header -->
				<div class="modal-header">
					<h5 class="modal-title" id="recordingModalLabel">Record Your Own Audio</h5>
					<button type="button" class="close close-recording" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>

				<!-- Body -->
				<div class="modal-body">
					<!-- This is an experiment for better user experience when recording audio. WIP -->
					<!-- <div id ='audio-visualizer'>
						<button onclick="initVisualizer()" id='visualizer-btn'>start</button>
					  </div> -->
					<div class="row ">
						<div class="col-2 align-self-center">
							<button class="btn btn-danger" id='record'
								style="height: 50px; width:50px; border-radius:50%; text-align:center">REC</button>
							<button class="btn btn-info" id='recordStop'
								style="height: 50px; width:50px; border-radius:25%; text-align:center"
								hidden>STOP</button>
						</div>
						<div class="col-8 align-self-center">
							<audio id=recordedAudio></audio>
						</div>
						<div class="col-2 align-self-center">
							<div id=countdown></div>
						</div>
					</div>
				</div>
			</div>



		</div>

	</div>


	<!-- JQuery 3.4.1 -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<!-- Bootstrap 4 JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
	</script>

	<script src="./js/parser.js"></script>
	<script src="./js/encoder.js"></script>
	<script src="./js/catalog.js"></script>
	<script src="./js/main.js"></script>
	<script>
		//Location of tutorial data, link to background section, link to software
	</script>

</body>